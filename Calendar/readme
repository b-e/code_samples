This is the solution to the following requirements:

Given a set of events, render the events on a single day calendar (similar to Outlook, Calendar.app, and Google Calendar). There are several properties of the layout:

No events may visually overlap.
If two events collide in time, they must have the same width.
An event should utilize the maximum width available, but constraint 2) takes precedence over this constraint.

I added a random generator in order to directly run the test